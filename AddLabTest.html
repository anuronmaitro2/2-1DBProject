<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Add Lab Test</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css"
    integrity="sha384-B4gt1jrGC7Jh4AgTPSdUtOBvfO8sh+WyLnvMzCkLw2Sb6b0FZd1d4q5U0wABENFk" crossorigin="anonymous">
    <link rel="stylesheet" type="text/css" href="styles.css" />
</head>
<body>
    <h2>Add New Lab Test</h2>
<div>
  <form id="addNewLabTestForm">
    <label for="testName">Test Name</label>
    <input type="text" name="testName" id="testName" />
    <label for="description">Description</label>
    <input type="text" name="description" id="description" />
    <button type="button" onclick="addNewLabTest()">
      Add New Lab Test
    </button>
  </form>
</div>
<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"
    integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.5.2/dist/umd/popper.min.js"
    integrity="sha384-N8IQIvxrja8AuN4bNfqVAPBwlMtkzQ8i/dLMyW7xqEj9s5qCkBoaVv6VODd4cPeJ" crossorigin="anonymous"></script>
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"
    integrity="sha384-B4gt1jrGC7Jh4AgTPSdUtOBvfO8sh+WyLnvMzCkLw2Sb6b0FZd1d4q5U0wABENFk" crossorigin="anonymous"></script>
<script>
    
  const addNewLabTest=async()=>{
    //get data from the form
   const testName=document.getElementById('testName').value;
   const description=document.getElementById('description').value;
    const labTestData = {
        testName: testName,
        description: description,
    };

    const options = {
        method: "POST",
        headers: {
        "Content-Type": "application/json",
        },
        body: JSON.stringify(labTestData),
    };

    try {
        const url = "http://localhost:3000/addLabTest";
        const response = await fetch(url, options);

        if (response.ok) {
        const contentType = response.headers.get("content-type");
        alert("Lab test added successfully");
        } else {
        console.error("Request failed with status:", response.status);
        }
    } catch (error) {
        console.error(error);
    }
};
</script>
</body>

</html>